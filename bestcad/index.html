<html>
<head>
	<script src="gl-matrix-min.js" type="text/javascript"></script>
	<script src="bestcad.js" type="text/javascript"></script>
	<script>
		function init(){
			var sm = new SceneManager({fps:60,canvas:document.getElementById('canvas')});
			sm.addMesh('mymesh',[
				[-1.0,-1.0,-1.0,0,0,0,0,0],
				[-1.0,1.0,-1.0,0,0,0,0,0],
				[1.0,1.0,-1.0,0,0,0,0,0],
				[1.0,-1.0,-1.0,0,0,0,0,0],
				[-1.0,-1.0,1.0,0,0,0,0,0],
				[-1.0,1.0,1.0,0,0,0,0,0],
				[1.0,1.0,1.0,0,0,0,0,0],
				[1.0,-1.0,1.0,0,0,0,0,0]
			],[
				[0,1,2],
				[0,2,3],
				[1,5,6],
				[1,6,2],
				[3,2,6],
				[3,6,7],
				[7,6,5],
				[7,5,4],
				[4,5,1],
				[4,1,0],
				[4,0,3],
				[4,3,7]
			]);

		}
	</script>

	<script id="vertex-shader" type="x-shader/x-vertex">
		attribute  vec4 vPosition;
		varying vec4 fColor;
		/*attribute  vec3 vNormal;
		

		uniform vec4 ambientProduct, diffuseProduct, specularProduct;
		uniform mat4 modelViewMatrix;
		uniform mat4 projectionMatrix;
		uniform vec4 lightPosition;
		uniform mat4 lightMatrix;
		uniform float shininess;*/
		void main()
		{

		    /*
		    vec3 pos = -(modelViewMatrix * vPosition).xyz;
		    
		    //fixed light postion
		    
		    vec3 light = lightPosition.xyz;
		    vec3 L = normalize( light - pos );

			
		    vec3 E = normalize( -pos );
		    vec3 H = normalize( L + E );
		    
		    vec4 NN = vec4(vNormal,0);

		    // Transform vertex normal into eye coordinates
		       
		    vec3 N = normalize( (modelViewMatrix*NN).xyz);

		    // Compute terms in the illumination equation
		    vec4 ambient = ambientProduct;

		    float Kd = max( dot(L, N), 0.0 );
		    vec4  diffuse = Kd*diffuseProduct;

		    float Ks = pow( max(dot(N, H), 0.0), shininess );
		    vec4  specular = Ks * specularProduct;
		    
		    if( dot(L, N) < 0.0 ) {
			specular = vec4(0.0, 0.0, 0.0, 1.0);
		    } */

		    gl_Position = vPosition;//projectionMatrix * modelViewMatrix * vPosition;
		    fColor = vec4(1,0,0,1);//ambient + diffuse +specular;
		    
		    //fColor.a = 1.0;
		}
	</script>

	<script id="fragment-shader" type="x-shader/x-fragment">

		precision mediump float;


		varying vec4 fColor;

		void
		main()
		{
		    gl_FragColor = fColor;
		}
	</script>
</head>
<body onload="init()">
	<canvas id="canvas" width="800" height="600"></canvas>
</body>
</html>